{"version":3,"sources":["components/profile/myposts/post/Post.module.css","components/profile/myposts/post/profileInfo/ProfileInfo.module.css","components/profile/Profile.module.css","components/dialogs/message/Message.module.css","components/login/Login.module.css","components/navbar/Navbar.module.css","api/api.js","redux/profilePageReducer.js","redux/dialogsPageReducer.js","redux/usersReducer.js","redux/authReducer.js","redux/appReducer.js","redux/redux-store.js","components/header/Header.js","components/header/HeaderContainer.js","components/navbar/Navbar.js","components/profile/myposts/post/Post.js","utils/validators/validators.js","components/common/FormsControl.js","components/profile/myposts/MyPostsForm.js","components/profile/myposts/Myposts.js","components/profile/myposts/MypostsContainer.js","images/loader.gif","components/loader/Loader.js","components/profile/myposts/post/profileInfo/profilleStatus/ProfileStatus.js","images/avatar.png","components/profile/myposts/post/profileInfo/ProfileInfo.js","components/profile/Profile.js","components/hoc/withAuthRedirect.js","components/profile/ProfileContainer.js","components/dialogs/dialogItem/DialogItem.js","components/dialogs/message/Message.js","components/dialogs/DialogsForm.js","components/dialogs/Dialogs.js","components/dialogs/DialogsContainer.js","components/feed/Feed.js","components/photos/Photos.js","components/settings/Settings.js","components/users/Users.js","components/users/UsersClass.js","components/users/UsersContainer.js","components/login/LoginForm.js","components/login/Login.js","App.js","index.js","components/profile/myposts/Myposts.module.css","components/dialogs/Dialogs.module.css","components/common/FormsControl.module.css","components/users/Users.module.css","components/dialogs/dialogItem/DialogItem.module.css"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","usersApi","currentPage","pageSize","get","then","response","data","userId","post","delete","email","password","rememberMe","profileApi","status","put","ADD_POST","SET_USER_PROFILE","GET_STATUS","UPDATE_STATUS","initialState","postsData","message","id","likesCount","profile","profilePageReducer","state","action","type","newPost","stateCopy","push","ADD_MESSAGE","dialogsData","name","messageData","dialogsPageReducer","newMessage","newMessageText","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_IS_FETCHING","FOLLOWING_IN_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followActionCreator","unfollowActionCreator","setTotalUsersCountActionCreator","setIsFetchingActionCreator","setFollowingInProgressActionCreator","usersReducer","map","user","followed","filter","SET_USER_DATA","isAuth","login","setUserDataActionCreator","setUserDataThunkCreator","dispatch","resultCode","INITIALIZED_SUCCESS","isInitialized","initializedThunkCreator","reducers","combineReducers","profilePage","dialogsPage","usersPage","auth","console","log","form","formReducer","appReducer","store","createStore","applyMiddleware","thunk","window","Header","props","useDispatch","className","src","to","onClick","location","reload","HeaderContainer","this","setAuthUserData","React","Component","connect","Navbar","classes","nav","item","activeClassName","activeLink","Post","required","value","maxLengthCreator","maxLength","length","Textarea","input","meta","hasError","touched","error","formControl","Input","maxLength10","MyPostsForm","onSubmit","handleSubmit","Field","component","placeholder","validate","addButton","MyPostsReduxForm","reduxForm","Myposts","posts","values","addPostButton","MypostsContainer","newPostText","addPostActionCreator","Loader","loader","ProfileStatus","editMode","activeEditMode","setState","deActiveEditMode","updateStatus","onStatusChange","e","currentTarget","prevProps","prevState","onBlur","onChange","autoFocus","ProfileInfo","objProp","info","Object","getOwnPropertyNames","alt","photos","large","avatar","index","Profile","memo","content","mapStateToPropsRedirect","withAuthRedirect","RedirectComponent","ProfileContainer","match","params","setUserProfile","getStatus","compose","updateStatusActionCreator","withRouter","DialogItem","dialog","Message","maxLength20","DialogsForm","DialogsReduxForm","Dialogs","dialogsItems","messagesItems","dialogs","messages","addNewMessage","addMessageActionCreator","Feed","Photos","Settings","Users","pagesCount","Math","ceil","pages","i","p","selected","onPageChange","small","city","country","disabled","some","unfollowUsers","followUsers","UsersClass","pageNumber","getUsers","setFollowingInProgress","UsersContainer","setTotalUsersCount","setCurrentPageActionCreator","items","totalCount","LoginForm","errorWarning","LoginReduxForm","Login","useSelector","formData","stopSubmit","_error","App","useEffect","path","render","DialogsContainer","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7c6b19d5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__392S1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__1R9Na\",\"img\":\"ProfileInfo_img__JD9em\",\"item\":\"ProfileInfo_item__3Qhv7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__180iH\",\"img\":\"Profile_img__1R58X\",\"item\":\"Profile_item__8XdWR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__GVHmT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWarning\":\"Login_errorWarning__1b_FX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1B7Zk\",\"item\":\"Navbar_item__3zMOR\",\"activeLink\":\"Navbar_activeLink__1zbaA\"};","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nconst instance = axios.create(\r\n\t{\r\n\t\twithCredentials: true,\r\n\t\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\t\theaders: { 'API-KEY': '14df4201-237c-413e-a6c1-4357d4d19732' }\r\n\t}\r\n)\r\n\r\nexport const usersApi = {\r\n\tgetUsers(currentPage = 1, pageSize = 20) {\r\n\t\treturn (\r\n\t\t\tinstance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n\t\t)\r\n\t},\r\n\r\n\tfollowUsers(userId) {\r\n\t\treturn (\r\n\t\t\tinstance.post(`follow/${userId}`).then(response => response.data)\r\n\t\t)\r\n\t},\r\n\r\n\tunFollowUsers(userId) {\r\n\t\treturn (\r\n\t\t\tinstance.delete(`follow/${userId}`).then(response => response.data)\r\n\t\t)\r\n\t},\r\n\r\n\tsetLogin() {\r\n\t\treturn (\r\n\t\t\tinstance.get(`auth/me`).then(response => response.data)\r\n\t\t)\r\n\t},\r\n\r\n\tlogin(email, password, rememberMe) {\r\n\t\treturn (\r\n\t\t\tinstance.post(`auth/login`, { email, password, rememberMe }).then(response => response.data)\r\n\t\t)\r\n\t},\r\n\r\n\tlogout() {\r\n\t\treturn (\r\n\t\t\tinstance.delete(`auth/login`).then(response => response.data)\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const profileApi = {\r\n\tgetProfile(userId) {\r\n\t\treturn (\r\n\t\t\tinstance.get(`profile/${userId}`).then(response => response.data)\r\n\t\t)\r\n\t},\r\n\r\n\tgetStatus(userId) {\r\n\t\treturn (\r\n\t\t\tinstance.get(`profile/status/${userId}`).then(response => response.data)\r\n\t\t)\r\n\t},\r\n\r\n\tupdateStatus(status) {\r\n\t\treturn (\r\n\t\t\tinstance.put(`profile/status`, { status: status }).then(response => response.data)\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport const registrationApi = {\r\n\tgetRegistration(userId) {\r\n\t\treturn (\r\n\t\t\tinstance.get(`profile/${userId}`).then(response => response.data)\r\n\t\t)\r\n\t}\r\n}\r\n","import React from 'react';\r\n\r\nimport { profileApi } from '../api/api';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst GET_STATUS = 'GET_STATUS';\r\nconst UPDATE_STATUS = 'UPDATE_STATUS';\r\n\r\nconst initialState = {\r\n\tpostsData: [\r\n\t\t{ message: 'Привет, как дела?', id: 1, likesCount: 0 },\r\n\t\t{ message: 'Hi! How are you?', id: 2, likesCount: 21 },\r\n\t\t{ message: 'Прывітанне, як твае справы?', id: 3, likesCount: 16 }\r\n\t],\r\n\tprofile: null,\r\n\tstatus: ''\r\n};\r\n\r\nconst profilePageReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST: {\r\n\t\t\tlet newPost = {\r\n\t\t\t\tmessage: action.newPost,\r\n\t\t\t\tid: 5,\r\n\t\t\t\tlikesCount: 0\r\n\t\t\t}\r\n\r\n\t\t\tlet stateCopy = { ...state };\r\n\t\t\tstateCopy.postsData = [...state.postsData];\r\n\t\t\tstateCopy.postsData.push(newPost);\r\n\t\t\treturn stateCopy\r\n\t\t}\t\r\n\r\n\t\tcase SET_USER_PROFILE: {\r\n\t\t\treturn { ...state, profile: action.profile };\r\n\t\t}\r\n\r\n\t\tcase GET_STATUS: {\r\n\t\t\treturn { ...state, status: action.status };\r\n\t\t}\r\n\r\n\t\tcase UPDATE_STATUS: {\r\n\t\t\treturn { ...state, status: action.status };\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport let addPostActionCreator = (newPost) => {\r\n\treturn { type: ADD_POST, newPost }\r\n}\r\n\r\nexport let setUserProfileActionCreator = (profile) => {\r\n\treturn { type: SET_USER_PROFILE, profile }\r\n}\r\n\r\nexport let getStatusActionCreator = (status) => {\r\n\treturn { type: GET_STATUS, status }\r\n}\r\n\r\nexport let updateStatusActionCreator = (status) => {\r\n\treturn { type: UPDATE_STATUS, status }\r\n}\r\n\r\n//thunk-creatorы\r\n\r\nexport const setUserProfileThunkCreator = (userId) => {\r\n\treturn (dispatch) => {\r\n\t\tprofileApi.getProfile(userId)\r\n\t\t\t.then(data => {\r\n\t\t\t\tdispatch(setUserProfileActionCreator(data))\r\n\t\t\t}\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nexport const getStatusThunkCreator = (userId) => {\r\n\treturn (dispatch) => {\r\n\t\tprofileApi.getStatus(userId)\r\n\t\t\t.then(data => {\r\n\t\t\t\tdispatch(getStatusActionCreator(data))\r\n\t\t\t}\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nexport const updateStatusThunkCreator = (status) => {\r\n\treturn (dispatch) => {\r\n\t\tprofileApi.updateStatus(status)\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\t\tdispatch(updateStatusActionCreator(status))\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t)\r\n\t}\r\n}\r\n\r\nexport default profilePageReducer;\r\n","const ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\nlet initialState = {\r\n\tdialogsData: [\r\n\t\t{ name: 'Volha', id: 2 },\r\n\t\t{ name: 'Alena', id: 3 },\r\n\t\t{ name: 'Mikalay', id: 4 },\r\n\t\t{ name: 'Nina', id: 5 },\r\n\t\t{ name: 'Vasil', id: 6 },\r\n\t\t{ name: 'Valera', id: 7 }\r\n\t],\r\n\r\n\tmessageData: [\r\n\t\t{ message: 'You are woman', id: 2 },\r\n\t\t{ message: 'I am a man', id: 3 },\r\n\t\t{ message: 'This is more than just a game', id: 4 },\r\n\t\t{ message: 'New message', id: 5 },\r\n\t\t{ message: 'Hello!', id: 6 }\r\n\t]\r\n};\r\n\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE: {\r\n\t\t\tlet newMessage = action.newMessageText;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessageData: [...state.messageData, { id: 7, message: newMessage }]\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport let addMessageActionCreator = (newMessageText) => {\r\n\treturn { type: ADD_MESSAGE, newMessageText }\r\n}\r\n\r\nexport default dialogsPageReducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { usersApi } from '../api/api';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'FOLLOWING_IN_PROGRESS'\r\n\r\nlet initialState = {\r\n\tusers: [],\r\n\tpageSize: 20,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\r\n\tisFetching: false,\r\n\tfollowingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\r\n\t\tcase FOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(user => {\r\n\t\t\t\t\tif (user.id === action.userId) {\r\n\t\t\t\t\t\treturn { ...user, followed: true }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user\r\n\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase UNFOLLOW: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(user => {\r\n\t\t\t\t\tif (user.id === action.userId) {\r\n\t\t\t\t\t\treturn { ...user, followed: false }\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user\r\n\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcase SET_USERS: {\r\n\t\t\treturn { ...state, users: [...action.users] }\r\n\t\t}\r\n\r\n\t\tcase SET_CURRENT_PAGE: {\r\n\t\t\treturn { ...state, currentPage: action.currentPage }\r\n\t\t}\r\n\r\n\t\tcase SET_TOTAL_USERS_COUNT: {\r\n\t\t\treturn { ...state, totalUsersCount: action.totalUsersCount }\r\n\t\t}\r\n\r\n\t\tcase SET_IS_FETCHING: {\r\n\t\t\treturn { ...state, isFetching: action.isFetching }\r\n\t\t}\r\n\r\n\t\tcase FOLLOWING_IN_PROGRESS: {\r\n\t\t\treturn (\r\n\t\t\t\t{\r\n\t\t\t\t\t...state, followingInProgress:\r\n\t\t\t\t\t\taction.followingInProgress ? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t\t\t: state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\n\r\nexport let followActionCreator = (userId) => ({ type: FOLLOW, userId })\r\n\r\nexport let unfollowActionCreator = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nexport let setUsersActionCreator = (users) => ({ type: SET_USERS, users })\r\n\r\nexport let setCurrentPageActionCreator = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\n\r\nexport let setTotalUsersCountActionCreator = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount })\r\n\r\nexport let setIsFetchingActionCreator = (isFetching) => ({ type: SET_IS_FETCHING, isFetching })\r\n\r\nexport let setFollowingInProgressActionCreator = (followingInProgress, userId) =>\r\n({\r\n\ttype: FOLLOWING_IN_PROGRESS,\r\n\tfollowingInProgress, userId\r\n})\r\n\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => {\r\n\r\n\treturn (dispatch) => {\r\n\t\tdispatch(setIsFetchingActionCreator(true))\r\n\t\tusersApi.getUsers(currentPage, pageSize).then(data => {\r\n\t\t\tdispatch(setCurrentPageActionCreator(currentPage))\r\n\t\t\tdispatch(setIsFetchingActionCreator(false))\r\n\t\t\tdispatch(setUsersActionCreator(data.items))\r\n\t\t\tdispatch(setTotalUsersCountActionCreator(data.totalCount))\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const unfollowUsersThunkCreator = (userId) => {\r\n\r\n\treturn (dispatch) => {\r\n\t\tdispatch(setFollowingInProgressActionCreator(true, userId))\r\n\t\tusersApi.unFollowUsers(userId).then(data => {\r\n\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\tdispatch(unfollowActionCreator(userId))\r\n\t\t\t}\r\n\t\t\tdispatch(setFollowingInProgressActionCreator(false, userId))\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const followUsersThunkCreator = (userId) => {\r\n\r\n\treturn (dispatch) => {\r\n\t\tdispatch(setFollowingInProgressActionCreator(true, userId))\r\n\t\tusersApi.followUsers(userId).then(data => {\r\n\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\tdispatch(followActionCreator(userId))\r\n\t\t\t}\r\n\t\t\tdispatch(setFollowingInProgressActionCreator(false, userId))\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nexport default usersReducer;\r\n","import { usersApi } from '../api/api';\r\n\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n\tisAuth: null,\r\n\tuserId: null,\r\n\temail: null,\r\n\tlogin: null\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\r\n\t\tcase SET_USER_DATA: {\r\n\t\t\tconsole.log('SET_USER_DATA', action)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const setUserDataActionCreator = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, data: { userId, email, login, isAuth } })\r\n\r\nexport const setUserDataThunkCreator = () => {\r\n\r\n\treturn (dispatch) => {\r\n\t\treturn usersApi.setLogin().then(data => {\r\n\r\n\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\tlet { id, email, login } = data.data;\r\n\t\t\t\tdispatch(setUserDataActionCreator(id, email, login, true))\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const loginDataThunkCreator = (email, password, rememberMe) => {\r\n\r\n\treturn (dispatch) => {\r\n\t\tusersApi.login(email, password, rememberMe).then(data => {\r\n\r\n\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\tdispatch(setUserDataThunkCreator())\r\n\t\t\t} else {\r\n\t\t\t\tconst message = data.messages.length > 0 ? data.messages[0] : 'Какая-то ошибка хз'\r\n\t\t\t\tdispatch(stopSubmit('login', { _error: message }))\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\nexport const logoutDataThunkCreator = () => {\r\n\treturn (dispatch) => {\r\n\t\tusersApi.logout().then(data => {\r\n\r\n\t\t\tif (data.resultCode === 0) {\r\n\t\t\t\tdispatch(setUserDataActionCreator(null, null, null, true))\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\n","import { setUserDataThunkCreator } from './authReducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n\tisInitialized: false\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n\r\n\tswitch (action.type) {\r\n\r\n\t\tcase INITIALIZED_SUCCESS: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisInitialized: true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccessAction = () => ({ type: INITIALIZED_SUCCESS })\r\n\r\nexport const initializedThunkCreator = () => {\r\n\treturn (dispatch) => {\r\n\t\tconst promise = dispatch(setUserDataThunkCreator())\r\n\t\tpromise.then(() => dispatch(initializedSuccessAction()))\r\n\t}\r\n}\r\n\r\n\r\n\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\nimport profilePageReducer from './profilePageReducer';\r\nimport dialogsPageReducer from './dialogsPageReducer';\r\nimport usersReducer from './usersReducer';\r\nimport {authReducer} from './authReducer';\r\nimport { appReducer } from './appReducer';\r\nimport thunk from 'redux-thunk';\r\n\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profilePageReducer,\r\n\tdialogsPage: dialogsPageReducer,\r\n\tusersPage: usersReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer, \r\n\tappReducer: appReducer\r\n})\r\n\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { logoutDataThunkCreator } from '../../redux/authReducer';\r\n\r\nimport './Header.css';\r\n\r\nconst Header = (props) => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst logoutOnClick = () => {\r\n\t\tdispatch(logoutDataThunkCreator())\r\n\t\twindow.location.reload()\r\n\t}\r\n\r\n\treturn <header className='header'>\r\n\t\t<img className='header-image' src='https://st2.depositphotos.com/5378240/8287/v/600/depositphotos_82877606-stock-illustration-belorussian-sacred-ethnic-ornament-seamless.jpg' />\r\n\t\t<div className='header-text-wrapper'>\r\n\t\t\t<div className='header-text'>\r\n\t\t\t\t<span className='header-text-near'>Побач</span>\r\n\t\t\t\t<span className='header-text-social'>cацыяльная сетка беларусаў</span>\r\n\t\t\t</div>\r\n\t\t\t<div className='header-text'>\r\n\t\t\t\t{props.isAuth ? props.login\r\n\t\t\t\t\t: <NavLink to={'/login'}> Login</NavLink>}\r\n\t\t\t</div>\r\n\t\t\t<div className='header-text'>\r\n\t\t\t\t{props.isAuth && <NavLink to={'/login'} onClick={logoutOnClick}> Logout</NavLink>}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</header>\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport './Header.css';\r\n\r\nimport Header from './Header';\r\nimport { setUserDataThunkCreator } from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.setAuthUserData()\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t<Header {...this.props} />\r\n\t\t</>\r\n\t}\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, { setAuthUserData: setUserDataThunkCreator })(HeaderContainer);","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Navbar.module.css';\r\n\r\nconst Navbar = () => {\r\n\treturn <nav className={classes.nav}>\r\n\t\t<div className={classes.item}>\r\n\t\t\t<NavLink to=\"/Profile\" activeClassName={classes.activeLink}>Profile</NavLink>\r\n\t\t</div>\r\n\t\t<div className={classes.item}>\r\n\t\t\t<NavLink to=\"/Dialogs\" activeClassName={classes.activeLink}>Dialogs</NavLink>\r\n\t\t</div>\r\n\t\t<div className={classes.item}>\r\n\t\t\t<NavLink to=\"/Feed\" activeClassName={classes.activeLink}>Feed</NavLink>\r\n\t\t</div>\r\n\t\t<div className={classes.item}>\r\n\t\t\t<NavLink to=\"/Photos\" activeClassName={classes.activeLink}>Photos</NavLink>\r\n\t\t</div>\r\n\t\t<div className={classes.item}>\r\n\t\t\t<NavLink to=\"/Settings\" activeClassName={classes.activeLink}>Settings</NavLink>\r\n\t\t</div>\r\n\t\t<div className={classes.item}>\r\n\t\t\t<NavLink to=\"/Users\" activeClassName={classes.activeLink}>Users</NavLink>\r\n\t\t</div>\r\n\t</nav>\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport classes from './Post.module.css'\r\n\r\nconst Post = (props) => {\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={classes.item}>\r\n\t\t\t<img src = 'https://cdn-icons-png.flaticon.com/512/147/147144.png'/>\r\n\t\t\t\t{props.message}\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tlike\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{props.likesCount}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n};\r\n\r\nexport default Post;\r\n\r\n\r\n","export const required = value => {\r\n\tif (value) return undefined;\r\n\r\n\treturn 'Field is required'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\treturn undefined\r\n}","import React from 'react';\r\n\r\nimport classes from './FormsControl.module.css';\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n\r\n\tconst hasError = meta.touched && meta.error;\r\n\r\n\treturn (\r\n\t\t<div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\r\n\t\t\t<div>\r\n\t\t\t\t<textarea {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{hasError && <span>{meta.error}</span>}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n\r\n\tconst hasError = meta.touched && meta.error;\r\n\r\n\treturn (\r\n\t\t<div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\r\n\t\t\t<div>\r\n\t\t\t\t<input {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t{hasError && <span>{meta.error}</span>}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","import React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nimport { required, maxLengthCreator } from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControl';\r\n\r\nimport classes from './Myposts.module.css';\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nconst MyPostsForm = (props) => {\r\n\r\n\treturn <form className={classes.item} onSubmit={props.handleSubmit}>\r\n\t\t<div>\r\n\t\t\t<Field component={Textarea} name='newPost' placeholder='New post' validate={[required, maxLength10]} />\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<button className={classes.addButton}>\r\n\t\t\t\tAdd post\r\n\t\t\t</button>\r\n\r\n\t\t\t<button>\r\n\t\t\t\tRemove post\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</form>\r\n};\r\n\r\nexport default MyPostsForm;","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\n\r\nimport Post from './post/Post.js';\r\nimport MyPostsForm from './MyPostsForm';\r\n\r\nimport classes from './Myposts.module.css';\r\n\r\nconst MyPostsReduxForm = reduxForm({ form: 'MyPosts' })(MyPostsForm);\r\n\r\nconst Myposts = (props) => {\r\n\r\n\tlet addPostButton = (values) => {\r\n\t\tprops.addPostButton(values.newPost)\r\n\t}\r\n\r\n\tlet posts = props.postsData.map(post => <Post message={post.message} likesCount={post.likesCount} id={post.id} />)\r\n\r\n\treturn <div>\r\n\t\t<h3 className={classes.item}>My posts</h3>\r\n\r\n\t\t<MyPostsReduxForm onSubmit={addPostButton} />\r\n\r\n\t\t<div className={classes.item}>\r\n\t\t\t{posts}\r\n\t\t</div>\r\n\t</div>\r\n};\r\n\r\nexport default Myposts;\r\n\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { addPostActionCreator } from '../../../redux/profilePageReducer';\r\nimport Myposts from './Myposts';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tpostsData: state.profilePage.postsData,\r\n\t\tnewPostText: state.profilePage.newPostText\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddPostButton: (newPost) => {\r\n\t\t\tdispatch(addPostActionCreator(newPost))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst MypostsContainer = connect(mapStateToProps, mapDispatchToProps)(Myposts)\r\n\r\nexport default MypostsContainer;","export default __webpack_public_path__ + \"static/media/loader.ffcd610b.gif\";","import React from 'react';\r\nimport loader from '../../images/loader.gif'\r\n\r\nconst Loader = (props) => {\r\n\treturn <>\r\n\t<div>{props.isFetching ? <img src={loader} /> : null}</div>\r\n\t</>\r\n}\r\n\r\nexport default Loader;","import React from 'react';\r\n\r\nclass ProfileStatus extends React.Component {\r\n\r\n\tstate = {\r\n\t\teditMode: false,\r\n\t\tstatus: this.props.status\t\r\n\t}\t\r\n\r\n\tactiveEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: true\r\n\t\t})\r\n\t}\r\n\r\n\tdeActiveEditMode = () => {\r\n\t\tthis.setState({\r\n\t\t\teditMode: false\r\n\t\t});\r\n\t\tthis.props.updateStatus(this.state.status)\r\n\t}\r\n\r\n\tonStatusChange = (e) => {\r\n\t\tthis.setState({status: e.currentTarget.value})\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif(prevProps.status !== this.props.status) {\r\n\t\t\tthis.setState({status: this.props.status})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div> Status: </div>\r\n\r\n\t\t\t\t{!this.state.editMode &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<span onClick={this.activeEditMode}> {this.props.status} </span>\r\n\t\t\t\t\t</div>}\r\n\r\n\t\t\t\t{(this.state.editMode || !this.props.status) &&\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input onBlur={this.deActiveEditMode}\r\n\t\t\t\t\t\t\tonChange={this.onStatusChange}\r\n\t\t\t\t\t\t\tvalue={this.state.status}\r\n\t\t\t\t\t\t\tautoFocus={true} />\r\n\t\t\t\t\t</div>}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n};\r\n\r\nexport default ProfileStatus;\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/avatar.5a2d86a6.png\";","import React from 'react';\r\n\r\nimport Loader from '../../../../loader/Loader';\r\nimport ProfileStatus from './profilleStatus/ProfileStatus';\r\nimport avatar from '../../../../../images/avatar.png';\r\n\r\nimport classes from './ProfileInfo.module.css'\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n\tif (!props.profile) {\r\n\t\tconsole.log('ProfileInfo inside--', props)\r\n\t\treturn <Loader />\r\n\t}\r\n\r\n\tlet objProp = props.profile;\r\n\tlet info = Object.getOwnPropertyNames(objProp);\r\n\r\n\treturn <>\r\n\t\t<div>\r\n\t\t\t<img alt='photos' src={props.profile.photos.large ? props.profile.photos.large : avatar} />\r\n\t\t</div>\r\n\r\n\t\t{info.map((item, index) => {\r\n\t\t\tif (objProp[item] && typeof (objProp[item]) !== 'object') {\r\n\t\t\t\treturn <div key={index}> {item}: {objProp[item]} </div>\r\n\t\t\t} else {\r\n\t\t\t\treturn <div key={index}> {item}: No data </div>\r\n\t\t\t}\r\n\t\t})}\r\n\r\n\t\t<div className={classes.item}>\r\n\t\t\t<ProfileStatus status={props.status} updateStatus={props.updateStatus} />\r\n\t\t</div>\r\n\t</>\r\n};\r\n\r\nexport default ProfileInfo;\r\n\r\n\r\n","import React, { memo } from 'react';\r\nimport { reduxForm } from 'redux-form';\r\n\r\nimport MypostsContainer from './myposts/MypostsContainer';\r\nimport ProfileInfo from './myposts/post/profileInfo/ProfileInfo';\r\n\r\nimport classes from './Profile.module.css'\r\n\r\nconst Profile = React.memo(props => {\r\n\tconsole.log('Profile---', props)\r\n\r\n\treturn <div className={classes.content}>\r\n\r\n\t\t<ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n\t\t<MypostsContainer />\r\n\t</div>\r\n}\r\n);\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n\tisAuth: state.auth.isAuth\r\n})\r\n\r\nconst withAuthRedirect = (Component) => {\r\n\tclass RedirectComponent extends React.Component {\r\n\t\trender() {\r\n\t\t\tif (!this.props.isAuth) { return <Redirect to={'/Login'} /> }\r\n\t\t\treturn <Component {...this.props} />\r\n\t\t}\r\n\t}\r\n\r\n\tlet ConnectAuthRedirect = connect(mapStateToPropsRedirect)(RedirectComponent)\r\n\r\n\treturn ConnectAuthRedirect\r\n\r\n}\r\n\r\nexport default withAuthRedirect;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Profile from './Profile';\r\nimport { setUserProfileThunkCreator, getStatusThunkCreator, updateStatusThunkCreator } from '../../redux/profilePageReducer';\r\nimport withAuthRedirect from '../hoc/withAuthRedirect';\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\t\r\n\tcomponentDidMount() {\r\n\r\n\t\t// console.log('ProfileContainer', this.props)\r\n\t\t// this.props.setMyProfile()\r\n\t\t// console.log('ProfileContainer', this.props)\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.userId\r\n\t\t}\r\n\t\tthis.props.setUserProfile(userId)\r\n\t\tthis.props.getStatus(userId)\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn <>\r\n\t\t\t<Profile {...this.props} profile={this.props.profile} />\r\n\t\t</>\r\n\t}\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tuserId: state.auth.userId\r\n})\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {\r\n\t\tsetUserProfile: setUserProfileThunkCreator,\r\n\t\tgetStatus: getStatusThunkCreator,\r\n\t\tupdateStatus: updateStatusThunkCreator\r\n\t\t// setMyProfile: setUserDataThunkCreator\r\n\t}),\r\n\twithRouter,\r\n\twithAuthRedirect)(ProfileContainer);\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport classes from './DialogItem.module.css';\r\n\r\nconst DialogItem = (props) => {\r\n\treturn <div className={classes.dialog}>\r\n\t\t<NavLink to={'/Dialogs/' + props.id} activeClassName={classes.activeLink}>{props.name}</NavLink>\r\n\t</div>\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\n\r\nimport classes from './Message.module.css';\r\n\r\nconst Message = (props) => {\r\n\treturn <div className={classes.message}>\r\n\t\t{props.message}\r\n\t</div>\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\n\r\nimport { Field } from 'redux-form';\r\nimport { Textarea } from '../common/FormsControl';\r\nimport { required, maxLengthCreator } from '../../utils/validators/validators';\r\n\r\nimport classes from './Dialogs.module.css';\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\n\r\nconst DialogsForm = (props) => {\r\n\r\n\treturn <>\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field name='newMessage' component={Textarea} validate={[required, maxLength20]} />\r\n\t\t\t</div>\r\n\r\n\t\t\t<button className={classes.addButton}>\r\n\t\t\t\tWrite message\r\n\t\t\t</button>\r\n\t\t</form>\r\n\t</>\r\n};\r\n\r\nexport default DialogsForm;","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\n\r\nimport DialogItem from './dialogItem/DialogItem';\r\nimport Message from './message/Message';\r\nimport DialogsForm from './DialogsForm';\r\n\r\nimport classes from './Dialogs.module.css';\r\n\r\nconst DialogsReduxForm = reduxForm({ form: 'dialogs' })(DialogsForm);\r\n\r\nconst Dialogs = (props) => {\r\n\r\n\tconsole.log('Dialogs', props)\r\n\r\n\tlet addNewMessage = (values) => {\r\n\t\tprops.addNewMessage(values.newMessage)\r\n\t}\r\n\r\n\tlet dialogsItems = props.dialogsItems.map(dialog => <DialogItem name={dialog.name} id={dialog.id} />)\r\n\tlet messagesItems = props.messagesItems.map(message => <Message message={message.message} id={message.id} />)\r\n\r\n\treturn <div className={classes.dialogs}>\r\n\r\n\t\t<div className={classes.dialogsItems} >\r\n\t\t\t{dialogsItems}\r\n\t\t</div>\r\n\r\n\t\t<div className={classes.messages}>\r\n\t\t\t<div>{messagesItems}</div>\r\n\t\t\t<DialogsReduxForm onSubmit={addNewMessage} />\r\n\t\t</div>\r\n\t</div>\r\n};\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { addMessageActionCreator } from '../../redux/dialogsPageReducer';\r\nimport Dialogs from './Dialogs';\r\nimport withAuthRedirect from '../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tdialogsItems: state.dialogsPage.dialogsData,\r\n\t\tmessagesItems: state.dialogsPage.messageData,\r\n\t\tnewMessageText: state.dialogsPage.newMessageText\r\n\t}\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\taddNewMessage: (newMessageText) => {\r\n\t\t\tdispatch(addMessageActionCreator(newMessageText))\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withAuthRedirect)(Dialogs);\r\n","import React from 'react';\r\n\r\n\r\nconst Feed = () => {\r\n\treturn <div >\r\n\t\t<div>Feed</div>\r\n\t</div>\r\n};\r\n\r\nexport default Feed;","import React from 'react';\r\n\r\n\r\nconst Photos = () => {\r\n\r\n\tconsole.log('Photos')\r\n\treturn <div >\r\n\t\t<div>Photo</div>\r\n\t</div>\r\n};\r\n\r\nexport default Photos;","import React from 'react';\r\n\r\n\r\nconst Settings = () => {\r\n\treturn <div >\r\n\t\t<div>Settings</div>\r\n\t</div>\r\n};\r\n\r\nexport default Settings;","import React, { memo } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport classes from './Users.module.css';\r\n\r\nimport avatar from '../../../src/images/avatar.png';\r\n\r\nconst Users =  memo(props => {\t\r\n\r\n\tlet pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\tlet pages = [];\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i)\r\n\t}\r\n\r\n\tconsole.log('Users', props)\r\n\r\n\treturn <>\r\n\t\t<div>\r\n\t\t\t{pages.map(p => {\r\n\t\t\t\treturn <span className={props.currentPage === p && classes.selected}\r\n\t\t\t\t\tonClick={() => { props.onPageChange(p) }}> {p} </span>\r\n\t\t\t})}\r\n\t\t</div>\r\n\r\n\t\t{\r\n\t\t\tprops.users.map(user =>\r\n\r\n\t\t\t\t<div key={user.id} className={classes.item}>\r\n\r\n\t\t\t\t\t<NavLink to={'/profile/' + user.id}><img src={user.photos.small != null ? user.photos.small : avatar} className={classes.avatar} />\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<span> {user.name} </span>\r\n\t\t\t\t\t<span> id: {user.id} </span>\r\n\t\t\t\t\t<span> {user.city} </span>\r\n\t\t\t\t\t<span> {user.country}</span>\r\n\t\t\t\t\t<span> {user.status}</span>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{user.followed\r\n\t\t\t\t\t\t\t? <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\r\n\t\t\t\t\t\t\t\t\tprops.unfollowUsers(user.id)\r\n\r\n\t\t\t\t\t\t\t\t}}>unfollow</button>\r\n\t\t\t\t\t\t\t: <button disabled={props.followingInProgress.some(id => id === user.id)}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\r\n\t\t\t\t\t\t\t\t\tprops.followUsers(user.id)\r\n\r\n\t\t\t\t\t\t\t\t}}>follow</button>}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t</>\r\n\r\n}\r\n);\r\n\r\nexport default Users;","import React from 'react';\r\n\r\nimport Users from './Users';\r\nimport Loader from '../loader/Loader';\r\n\r\nclass UsersClass extends React.Component {\t\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\t// componentDidMount() вызывается сразу после монтирования (то есть, вставки компонента в DOM).\r\n\t\t// В этом методе должны происходить действия, которые требуют наличия DOM-узлов.\r\n\t\t//  Это хорошее место для создания сетевых запросов.\r\n\t\tthis.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\t}\r\n\r\n\tonPageChange = (pageNumber) => {\r\n\t\tthis.props.getUsers(pageNumber, this.props.pageSize)\r\n\t}\r\n\r\n\trender() {\r\n\t\t// console.log('currentPage---3', this.props.currentPage)\r\n\t\treturn <>\r\n\t\t\t<Loader\r\n\t\t\t\tisFetching={this.props.isFetching}\r\n\t\t\t/>\r\n\t\t\t<Users\r\n\t\t\t\ttotalUsersCount={this.props.totalUsersCount}\r\n\t\t\t\tpageSize={this.props.pageSize}\r\n\t\t\t\tcurrentPage={this.props.currentPage}\r\n\t\t\t\tonPageChange={this.onPageChange}\r\n\t\t\t\tunfollowUsers={this.props.unfollowUsers}\r\n\t\t\t\tfollowUsers={this.props.followUsers}\r\n\t\t\t\tusers={this.props.users}\r\n\t\t\t\tfollowingInProgress={this.props.followingInProgress}\r\n\t\t\t\tsetFollowingInProgress={this.props.setFollowingInProgress}\r\n\t\t\t/>\r\n\t\t</>\r\n\t}\r\n};\r\n\r\nexport default UsersClass;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n\tfollowActionCreator,\r\n\tunfollowActionCreator,\r\n\tsetTotalUsersCountActionCreator,\r\n\tsetFollowingInProgressActionCreator,\r\n\tgetUsersThunkCreator,\r\n\tunfollowUsersThunkCreator,\r\n\tfollowUsersThunkCreator\r\n} from '../../redux/usersReducer';\r\n\r\nimport UsersClass from './UsersClass';\r\n\r\nlet mapStateToProps = (state) => {\r\n\t// console.log('currentPage---2', state.usersPage.currentPage)\r\n\treturn {\r\n\t\tusers: state.usersPage.users,\r\n\t\tpageSize: state.usersPage.pageSize,\t\r\n\t\ttotalUsersCount: state.usersPage.totalUsersCount,\r\n\t\tcurrentPage: state.usersPage.currentPage,\r\n\t\tisFetching: state.usersPage.isFetching,\r\n\t\tfollowingInProgress: state.usersPage.followingInProgress\r\n\t}\r\n}\r\n// Аргумент mapStateToProps является функцией, которая возвращает либо обычный объект, либо другую функцию.\r\n//  Передача этого аргумента connect() приводит к подписке компонента-контейнера на обновления хранилища Redux.\r\n//  Это означает, что функция mapStateToProps будет вызываться каждый раз, когда состояние хранилища изменяется.\r\n\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n// \treturn {\r\n// \t\tfollowUsers: (userId) => {\r\n// \t\t\tdispatch(followActionCreator(userId))\r\n// \t\t},\r\n// \t\tunfollowUsers: (userId) => {\r\n// \t\t\tdispatch(unfollowActionCreator(userId))\r\n// \t\t},\r\n// \t\tsetUsers: (users) => {\r\n// \t\t\tdispatch(setUsersActionCreator(users))\r\n// \t\t},\r\n// \t\tsetCurrentPage: (pageNumber) => {\r\n// \t\t\tdispatch(setCurrentPageActionCreator(pageNumber))\r\n// \t\t},\r\n// \t\tsetTotalUsersCount: (totalUsersCount) => {\r\n// \t\t\tdispatch(setTotalUsersCountActionCreator(totalUsersCount))\r\n// \t\t},\r\n// \t\tsetIsFetching: (isFetching) => {\r\n// \t\t\tdispatch(setIsFetchingActionCreator(isFetching))\r\n// \t\t}\r\n// \t}\r\n// }\r\n\r\nconst UsersContainer = connect(mapStateToProps, {\r\n\tfollowUsers: followActionCreator,\r\n\tunfollowUsers: unfollowActionCreator,\r\n\tsetTotalUsersCount: setTotalUsersCountActionCreator,\r\n\tsetFollowingInProgress: setFollowingInProgressActionCreator,\r\n\tgetUsers: getUsersThunkCreator,\r\n\tfollowUsers: followUsersThunkCreator,\r\n\tunfollowUsers: unfollowUsersThunkCreator\r\n})(UsersClass)\r\n\r\n// После вызова функции connect() возвращается компонент высшего порядка???,\r\n//  который можно использовать для оборачивания любого компонента React.\r\n// Т.е. здесь в презентационный компонент UsersC\r\n// в качестве пропсов попадают свойства, которые передаются в connect\r\n// Connect эти функции вызывает сам и автоматом передаёт им state и диспатч\r\n\r\nexport default UsersContainer;","import React from 'react';\r\nimport { Field } from 'redux-form';\r\n\r\nimport { Input } from '../common/FormsControl';\r\nimport { required, maxLengthCreator } from '../../utils/validators/validators';\r\n\r\nimport classes from './Login.module.css'\r\n\r\nconst maxLength10 = maxLengthCreator(20)\r\n\r\nconst LoginForm = (props) => {\r\n\treturn <>\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<Field placeholder='login' name='email' component={Input} validate={[required, maxLength10]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field placeholder='password' name='password' component={Input} type='password' validate={[required, maxLength10]} />\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<Field type='checkbox' name='rememberMe' component={'input'} />remember me\r\n\t\t\t</div>\r\n\t\t\t{props.error && <div className={classes.errorWarning}>\r\n\t\t\t\t{props.error}\r\n\t\t\t</div>}\r\n\t\t\t<div>\r\n\t\t\t\t<button>Login </button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</>\r\n}\r\n\r\nexport default LoginForm;","import React from 'react';\r\nimport { reduxForm } from 'redux-form';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { loginDataThunkCreator } from '../../redux/authReducer';\r\nimport LoginForm from './LoginForm';\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst { isAuth } = useSelector(state => state.auth);\r\n\tconst onSubmit = (formData) => {\r\n\t\tdispatch(loginDataThunkCreator(formData.email, formData.password, formData.rememberMe))\r\n\t}\r\n\r\n\tif (isAuth) { return <Redirect to='/profile' /> }\r\n\r\n\treturn <>\r\n\t\t<h1>\r\n\t\t\tLogin\r\n\t\t</h1>\r\n\r\n\t\t<LoginReduxForm onSubmit={onSubmit} />\r\n\r\n\t\t{/* <div>\r\n\t\t\t<a href=\"https://social-network.samuraijs.com/login\" target=\"_blank\" rel=\"noreferrer\">Войдите в свой аккаунт</a>\r\n\t\t</div> */}\r\n\r\n\t</>\r\n}\r\n\r\nexport default Login;\r\n\r\n// export default connect(null, { loginDataThunkCreator })(Login);","import React, { useEffect } from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport HeaderContainer from './components/header/HeaderContainer';\nimport Navbar from './components/navbar/Navbar';\nimport ProfileContainer from './components/profile/ProfileContainer';\nimport DialogsContainer from './components/dialogs/DialogsContainer';\nimport Feed from './components/feed/Feed';\nimport Photos from './components/photos/Photos';\nimport Settings from './components/settings/Settings';\nimport UsersContainer from './components/users/UsersContainer';\nimport Login from './components/login/Login';\nimport { initializedThunkCreator } from './redux/appReducer';\nimport Loader from './components/loader/Loader';\n\n\nimport './App.css';\n\nconst App = () => {\n\n\tconst dispatch = useDispatch();\n\tconst { isInitialized } = useSelector(state => state.appReducer);\n\n\tuseEffect(() => {\n\t\tdispatch(initializedThunkCreator())\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t{isInitialized && <BrowserRouter>\n\t\t\t\t<div className='app-wrapper'>\n\t\t\t\t\t<HeaderContainer />\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<div className='app-wrapper-content'>\n\t\t\t\t\t\t<Route path='/Dialogs' render={() => <DialogsContainer />} />\n\t\t\t\t\t\t<Route path='/Profile/:userId?' render={() => <ProfileContainer />} />\n\t\t\t\t\t\t<Route path='/Feed' component={Feed} />\n\t\t\t\t\t\t<Route path='/Photos' component={Photos} />\n\t\t\t\t\t\t<Route path='/Settings' component={Settings} />\n\t\t\t\t\t\t<Route path='/Users' render={() => <UsersContainer />} />\n\t\t\t\t\t\t<Route path='/Login' render={() => <Login />} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</BrowserRouter>}\n\t\t\t{!isInitialized && <Loader isFetching={!isInitialized} />}\n\t\t</div>\n\n\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// ReactDOM  предоставляет специфические для DOM методы, например, render().\n// React DOM обновляет DOM, чтобы он соответствовал переданным React-элементам\nimport { Provider } from 'react-redux';\n// Компонент <Provider> делает хранилище Redux доступным \n// для любых вложенных компонентов, которым требуется доступ к хранилищу Redux.\n\nimport './index.css';\n\nimport store from './redux/redux-store';\nimport App from './App';\n\nReactDOM.render(\n\t// Для рендеринга React-элемента в корневой узел DOM вызовите ReactDOM.render() \n\t// с React-элементом и корневым DOM-узлом в качестве аргументов:\n\t// корневой узел это div c классом root, находится в index.html в папке public\n\t<React.StrictMode>\n\t\t{/* StrictMode (строгий режим) - это инструмент для выделения потенциальных проблем в приложении.\n\t\tОн активирует дополнительные проверки и предупреждения. */}\n\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Myposts_item__1Ut3d\",\"addButton\":\"Myposts_addButton__1EodD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1opba\",\"dialogsItems\":\"Dialogs_dialogsItems__2r3Hi\",\"active\":\"Dialogs_active__1RhaB\",\"dialog\":\"Dialogs_dialog__3nSUv\",\"messages\":\"Dialogs_messages__3Khs3\",\"message\":\"Dialogs_message__3FCxy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__3yoTA\",\"error\":\"FormsControl_error__1dRq2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Users_item__1xFxP\",\"avatar\":\"Users_avatar__2u7d2\",\"selected\":\"Users_selected__1Y-Ww\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__2dCYz\",\"activeLink\":\"DialogItem_activeLink__2RTAf\"};"],"sourceRoot":""}